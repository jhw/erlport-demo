[
  {kernel, [
    {logger_level, info},
    {logger, [
      %% File handler - logs to file only (keeps console clean for interaction)
      {handler, file, logger_std_h, #{
        level => info,
        config => #{
          file => "log/erlport_demo.log",
          max_no_bytes => 10485760,  % 10MB
          max_no_files => 5,           % Keep 5 rotated files
          compress_on_rotate => true
        },
        formatter => {logger_formatter, #{
          single_line => false,
          template => [time, " [", level, "] ", msg, "\n"]
        }}
      }},
      %% Console handler disabled by default - enable for debugging
      %% Uncomment to see logs in console:
      %% {handler, console, logger_std_h, #{
      %%   level => info,
      %%   formatter => {logger_formatter, #{
      %%     single_line => false,
      %%     template => [time, " [", level, "] ", msg, "\n"]
      %%   }}
      %% }}

      %% Remove default console handler
      {handler, default, undefined}
    ]}
  ]},

  %% SASL - System Application Support Libraries
  %% Automatically captures supervisor reports, crash reports
  {sasl, [
    {sasl_error_logger, tty},  % Show errors on console
    {errlog_type, error},
    {sasl_progress_reports, false}  % Disable verbose supervisor start reports
  ]},

  {erlport_demo, [
    %% Python pool configuration - worker counts and timeouts per pool
    {python_pools, [
      {bbc_pool, #{
        pool_size => 2,
        worker_timeout_ms => 45000  % 45s - longer than caller's 30s timeout
      }},
      {fishy_pool, #{
        pool_size => 2,
        worker_timeout_ms => 45000
      }},
      {matcher_pool, #{
        pool_size => 2,
        worker_timeout_ms => 45000
      }}
    ]},

    %% Scraper timing configuration - per scraper type
    {scrapers, [
      {bbc_scraper, #{
        initial_delay_ms => 60000,  % 60 seconds before first scrape (for debugging)
        interval_ms => 60000        % 60 seconds between scrapes
      }},
      {fishy_scraper, #{
        initial_delay_ms => 60000,
        interval_ms => 60000
      }}
    ]}
  ]}
].
